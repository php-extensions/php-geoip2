<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta content="geoip2 API doc" name="description">
    <title>
                    geoip2 API Documentation
            </title>
    <link rel="stylesheet" type="text/css" href="../../../asset/static/prettify.css" />

<script src="../../../asset/static/prettify.js"></script>
<script src="../../../asset/api_definition.js"></script>


                        <link rel="stylesheet" type="text/css" href="../../../asset/static/prettify.css" />
                    <link rel="stylesheet" type="text/css" href="../../../asset/static/zephir-theme.css" />
            
    

                        <script src="../../../asset/static/prettify.js"></script>
                                    <script src="../../../asset/api_definition.js"></script>
                    <script src="../../../asset/static/jquery.min.js"></script>
                    <script src="../../../asset/static/zephir-doc.js"></script>
                <script>var ZepCurrentPath = '../../../'</script>
    </head>
 <body onload="prettyPrint()">
        <div id="top-bar">
            <div id="top-left">
                                    geoip2 Documentation <span class="version">v0.9.0</span>
                            </div>
            <div id="top-right">
            </div>
        </div>
        <div id="body">
            <div id="body-left">
                <div class="header-search">
                    <input class="search-box" placeholder="Search for a class or namespace " type="text" />
                    <div id="menu-wrapper">
                    </div>
                </div>
            </div>
            <div id="body-right">
                <div class="content">
                    
<div class="breadcrumb">
    
    <ul>
        
        <li><a href="../../../index.html">Home</a></li>
        
                <li><a href="../../../classes.html">Classes</a></li>
                <li><a href="../../../class/GeoIP2/Model/City.html">GeoIP2\Model\City</a></li>
                <li><a >Source</a></li>
                
    </ul>
    
</div>
<div class="class-header source clearfix">
    
    <div class="access-buttons">
        <a class="zep-button" href="../../../class/GeoIP2/Model/City.html">Class</a>

            </div>
    
    <div class="class-full-name">
        
        <span class="class-type">Class</span>
        
                <span class="namespace-piece">
            <a href="../../../namespace/GeoIP2.html">GeoIP2</a>
        </span>
                <span class="namespace-piece">
            <a href="../../../namespace/GeoIP2/Model.html">Model</a>
        </span>
                <h1 class="class-name">City</h1>
    </div>
    
</div>


<pre class="zephir-source-file prettyprint linenums">namespace GeoIP2\Model;
/**
 * Model class for the data returned by GeoIP2 City web service and database.
 *
 * The only difference between the City and Insights model classes is which
 * fields in each record may be populated. See
 * http://dev.maxmind.com/geoip/geoip2/web-services more details.
 *
 * @property-read \GeoIp2\Record\City $city City data for the requested IP
 * address.
 * @property-read \GeoIp2\Record\Continent $continent Continent data for the
 * requested IP address.
 * @property-read \GeoIp2\Record\Country $country Country data for the requested
 * IP address. This object represents the country where MaxMind believes the
 * end user is located.
 * @property-read \GeoIp2\Record\Location $location Location data for the
 * requested IP address.
 * @property-read \GeoIp2\Record\Postal $postal Postal data for the
 * requested IP address.
 * @property-read \GeoIp2\Record\MaxMind $maxmind Data related to your MaxMind
 * account.
 * @property-read \GeoIp2\Record\Country $registeredCountry Registered country
 * data for the requested IP address. This record represents the country
 * where the ISP has registered a given IP block and may differ from the
 * user's country.
 * @property-read \GeoIp2\Record\RepresentedCountry $representedCountry
 * Represented country data for the requested IP address. The represented
 * country is used for things like military bases. It is only present when
 * the represented country differs from the country.
 * @property-read array $subdivisions An array of {@link \GeoIp2\Record\Subdivision}
 * objects representing the country subdivisions for the requested IP
 * address. The number and type of subdivisions varies by country, but a
 * subdivision is typically a state, province, county, etc. Subdivisions
 * are ordered from most general (largest) to most specific (smallest).
 * If the response did not contain any subdivisions, this method returns
 * an empty array.
 * @property-read \GeoIp2\Record\Subdivision $mostSpecificSubdivision An  object
 * representing the most specific subdivision returned. If the response
 * did not contain any subdivisions, this method returns an empty
 * {@link \GeoIp2\Record\Subdivision} object.
 * @property-read \GeoIp2\Record\Traits $traits Data for the traits of the
 * requested IP address.
 */
class City extends Country
{
    /**
     * @ignore
     */
    protected city;
    /**
     * @ignore
     */
    protected location;
    /**
     * @ignore
     */
    protected postal;

    /**
     * @ignore
     */
    protected subdivisions = [];

    /**
     * @ignore
     *
     * @param mixed $raw
     * @param mixed $locales
     */
    public function __construct(var raw, array locales = ["en"])
    {
        parent::__construct(raw, locales);
        let this->city = new \GeoIP2\Record\City(this->get("city"), locales);
        let this->location = new \GeoIP2\Record\Location(this->get("location"));
        let this->postal = new \GeoIP2\Record\Postal(this->get("postal"));
        this->createSubdivisions(raw, locales);
    }
    private function createSubdivisions(var raw, array locales)
    {
        var sub;
        if !isset raw["subdivisions"] {
            return;
        }
        for sub in raw["subdivisions"] {
            let this->subdivisions[] = new \GeoIP2\Record\Subdivision(sub, locales);
        }
    }
    /**
     * @ignore
     *
     * @param mixed $attr
     */
    public function __get(string attr)
    {
        if (attr === "mostSpecificSubdivision") {
            return this->{attr}();
        }
        return parent::__get(attr);
    }
    /**
     * @ignore
     *
     * @param mixed $attr
     */
    public function __isset(string attr)
    {
        if (attr === "mostSpecificSubdivision") {
            // We always return a mostSpecificSubdivision, even if it is the
            // empty subdivision
            return true;
        }
        return parent::__isset(attr);
    }
    private function mostSpecificSubdivision()
    {
        return empty this->subdivisions ? new \GeoIP2\Record\Subdivision([], this->locales) : end(this->subdivisions);
    }
}</pre>                </div>
            </div>
        </div>
    </body>
</html>
